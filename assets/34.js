(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{1211:function(t,e,o){"use strict";o.r(e);var s=o(2149),n=o(1494);for(var r in n)"default"!==r&&function(t){o.d(e,t,function(){return n[t]})}(r);var a=o(0),i=o(2359),u=o.n(i),c=Object(a.a)(n.default,s.a,s.b,!1,null,null,null);"function"==typeof u.a&&u()(c),e.default=c.exports},1493:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=c(o(3)),n=c(o(11)),r=c(o(10)),a=o(17),i=o(7),u=o(18);function c(t){return t&&t.__esModule?t:{default:t}}var l,d=(l=(0,r.default)(n.default.mark(function t(e,o,s){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.params.user===(0,u.State)("app.user.name")&&s("/user/password"),t.next=4,(0,i.request)("GET_FTP_ACCOUNT",{user:e.params.user});case 4:e.params.account=t.sent,s(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),s(t.t0);case 11:case"end":return t.stop()}},t,void 0,[[0,8]])})),function(t,e,o){return l.apply(this,arguments)});e.default={beforeRouteEnter:d,beforeRouteUpdate:d,props:{user:{type:String,required:!0},account:{type:Object,required:!0}},data:function(){return{password:"",type:this.account.type,customDir:this.account.path}},computed:(0,s.default)({},(0,a.mapState)({validation:function(t){return{password:t.api.VALIDATE_PASSWORD.response.error}}}),{ftpOptions:function(){return[{id:"domain",label:this.$gettext("Domain"),desc:this.$gettext("Ftp account with the root directory in the domains home directory (one up from the public_html)")},{id:"ftp",label:this.$gettext("Ftp"),desc:this.$gettext("Ftp account with the root directory in the domains public_ftp directory")},{id:"user",label:this.$gettext("User"),desc:this.$gettext("Ftp account with the root directory as the users name in the public_html directory")},{id:"custom",label:this.$gettext("Custom"),desc:this.$gettext("Please provide custom directory in the field below")}]}}),methods:{modifyFtpAccount:function(){var t=this;return(0,r.default)(n.default.mark(function e(){var o;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$request("UPDATE_FTP_ACCOUNT",{action:"modify",user:t.user,domain:t.$domain,passwd:t.password,passwd2:t.password,type:t.type,custom_val:t.customDir});case 2:(o=e.sent)&&"0"===o.error&&(t.$notify({theme:"safe",title:t.$gettext("Account modified")}),t.$router.push({name:"user/ftp-accounts"}));case 4:case"end":return e.stop()}},e,t)}))()},copyPassword:function(){var t=this,e=document.createElement("textarea");e.style.position="fixed",e.style.bottom=0,e.style.right=0,e.style.width="2em",e.style.height="2em",e.style.padding=0,e.style.border="none",e.style.outline="none",e.style.boxShadow="none",e.style.background="transparent",e.value=this.password,document.body.appendChild(e),e.focus(),e.select(),document.execCommand("copy")&&this.$nextTick(function(){t.$notifications.success({title:"Password copied!"}),document.body.removeChild(e)})}}}},1494:function(t,e,o){"use strict";o.r(e);var s=o(1493),n=o.n(s);for(var r in s)"default"!==r&&function(t){o.d(e,t,function(){return s[t]})}(r);e.default=n.a},2149:function(t,e,o){"use strict";var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("app-page",[o("ui-button",{attrs:{slot:"footer:buttons",theme:"safe",validateGroup:"editFtpAccount"},on:{click:t.modifyFtpAccount},slot:"footer:buttons"},[o("translate",[t._v("Modify")])],1),t._v(" "),o("app-page-section",[o("ui-form-element",{attrs:{vertical:t.$_Client.isPhone}},[o("translate",{attrs:{slot:"title"},slot:"title"},[t._v("FTP Username:")]),t._v(" "),o("input-text",{attrs:{slot:"content",value:t.account.fulluser,disabled:""},slot:"content"})],1),t._v(" "),o("ui-form-element",{attrs:{group:"editFtpAccount",validators:{apiValidation:"VALIDATE_PASSWORD"},vertical:t.$_Client.isPhone}},[o("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                Enter Password\n            ")]),t._v(" "),o("ui-grid",{attrs:{slot:"content",cross:t.$_Client.isPhone?"stretch":"center",column:t.$_Client.isPhone},slot:"content"},[o("input-password",{directives:[{name:"flex-item",rawName:"v-flex-item",value:{grow:!0},expression:"{ grow: true }"}],ref:"password",attrs:{showGenerator:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),t.password?o("ui-button",{directives:[{name:"margin",rawName:"v-margin",value:[,,,"1rem"],expression:"[,,,'1rem']"}],attrs:{theme:"light",size:"normal"},on:{click:t.copyPassword}},[o("translate",[t._v("Copy Password")])],1):t._e()],1),t._v(" "),t.validation.password?o("span",{attrs:{slot:"error:apiValidation"},domProps:{innerHTML:t._s(t.validation.password)},slot:"error:apiValidation"}):t._e()],1),t._v(" "),o("ui-tabs",{attrs:{radio:"",tabs:t.ftpOptions,selected:t.type},on:{"update:selected":function(e){t.type=e}}},[o("ui-form-element",{attrs:{slot:"tab:custom",underline:!t.$_Client.isPhone},slot:"tab:custom"},[t.$_Client.isPhone?t._e():o("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                    Directory\n                ")]),t._v(" "),o("input-text",{attrs:{slot:"content",type:"text"},slot:"content",model:{value:t.customDir,callback:function(e){t.customDir=e},expression:"customDir"}})],1)],1)],1)],1)},n=[];o.d(e,"a",function(){return s}),o.d(e,"b",function(){return n})},2359:function(t,e){}}]);