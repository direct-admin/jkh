(window.webpackJsonp=window.webpackJsonp||[]).push([[124],{1301:function(n,e,t){"use strict";t.r(e);var r=t(2264),s=t(1906);for(var a in s)"default"!==a&&function(n){t.d(e,n,function(){return s[n]})}(a);t(2655);var o=t(0),i=t(2653),l=t.n(i),u=Object(o.a)(s.default,r.a,r.b,!1,null,"3042214c",null);"function"==typeof l.a&&l()(u),e.default=u.exports},1904:function(n,e,t){var r=t(2654);"string"==typeof r&&(r=[[n.i,r,""]]),r.locals&&(n.exports=r.locals);(0,t(4).default)("d34c6d6e",r,!0,{})},1905:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=f(t(24)),s=f(t(57)),a=f(t(9)),o=f(t(11)),i=f(t(10)),l=f(t(1)),u=f(t(3)),c=t(7),d=t(6),v=f(t(1383));function f(n){return n&&n.__esModule?n:{default:n}}e.default=(0,u.default)({},(0,c.preload)("GET_MULTI_SERVER_INFO"),{components:{InputIp:v.default},data:function(){return{checkedRows:[],servers:[],passwd:"",newServer:{ip:"",port:"2222",ssl:!1,user:"",passwd:""}}},computed:(0,u.default)({},(0,c.mapResponse)({GET_MULTI_SERVER_INFO:"info"}),{requestData:function(){var n=this.checkedRows.reduce(function(n,e){var t;return(0,u.default)({},n,(t={},(0,l.default)(t,"port-"+e.id,e.port),(0,l.default)(t,"user-"+e.id,e.user),(0,l.default)(t,"ssl-"+e.id,e.ssl),(0,l.default)(t,"dns-"+e.id,e.dns),(0,l.default)(t,"domain_check-"+e.id,e.domain_check),(0,l.default)(t,"user_check-"+e.id,e.user_check),(0,l.default)(t,"email-"+e.id,e.email),(0,l.default)(t,"show_all_users-"+e.id,e.show_all_users),t))},{});return(0,u.default)({passwd:this.passwd,select:this.checkedRows.map(function(n){return n.id})},n)},actions:function(){return{dns:this.$gettext("Zone Transfer"),domain_check:this.$gettext("Domain Check"),user_check:this.$gettext("User Check"),email:this.$gettext("Email Accounts"),show_all_users:this.$gettext("Show All Users")}}}),methods:{toggleAll:function(){this.checkedRows=this.checkedAll?[]:this.servers.map(function(n){return n.id})},reloadInfo:function(){var n=this;return(0,i.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.$request("GET_MULTI_SERVER_INFO");case 2:n.servers=d._.cloneDeep(n.info.servers),n.checkedRows=[];case 4:case"end":return e.stop()}},e,n)}))()},turnOn:function(){var n=this;return(0,i.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.$actionRequest("MS_TURN_ON");case 2:e.sent&&n.reloadInfo();case 4:case"end":return e.stop()}},e,n)}))()},turnOff:function(){var n=this;return(0,i.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.$actionRequest("MS_TURN_OFF");case 2:e.sent&&n.reloadInfo();case 4:case"end":return e.stop()}},e,n)}))()},doAction:function(n){var e=this;return(0,i.default)(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$actionRequest("MS_ACTION",(0,u.default)((0,l.default)({},n,!0),e.requestData));case 2:t.sent&&e.reloadInfo();case 4:case"end":return t.stop()}},t,e)}))()},addServer:function(){var n=this;return(0,i.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.$actionRequest("MS_ADD_SERVER",n.newServer,{reset:!0});case 2:e.sent&&n.reloadInfo();case 4:case"end":return e.stop()}},e,n)}))()},getActions:function(n){var e=(0,a.default)(this.actions);return(0,s.default)(n).filter(function(n){var t=(0,r.default)(n,2),s=t[0],a=t[1];return e.includes(s)&&a}).map(function(n){return(0,r.default)(n,1)[0]})}},created:function(){this.servers=d._.cloneDeep(this.info.servers)}})},1906:function(n,e,t){"use strict";t.r(e);var r=t(1905),s=t.n(r);for(var a in r)"default"!==a&&function(n){t.d(e,n,function(){return r[n]})}(a);e.default=s.a},2264:function(n,e,t){"use strict";var r=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("app-page",{attrs:{id:"multi-server"}},[t("template",{slot:"header:buttons"},[n.info.enabled?t("ui-button",{attrs:{theme:"safe"},on:{click:function(e){n.$dialog("OFF_CONFIRMATION_DIALOG").open()}}},[t("translate",[n._v("Turn off")])],1):t("ui-button",{attrs:{theme:"safe"},on:{click:n.turnOn}},[t("translate",[n._v("Turn on")])],1),n._v(" "),t("ui-button",{attrs:{theme:"primary"},on:{click:function(e){n.$dialog("ADD_NEW_SERVER").open()}}},[t("translate",[n._v("Add New Server")])],1)],1),n._v(" "),t("app-page-section",[t("ui-r-table",{attrs:{columns:[{id:"id",label:n.$gettext("IP"),grow:!0},{id:"port",label:n.$gettext("Port")},{id:"user",label:n.$gettext("Login")},{id:"ssl",label:n.$gettext("SSL Connection")}],rows:n.servers,checkedRows:n.checkedRows,hideTableActions:"",editable:!1,verticalLayout:n.$_Client.isPhone},on:{"update:checkedRows":function(e){n.checkedRows=e}},scopedSlots:n._u([{key:"col:id",fn:function(e){var t=e.id,r=e.ip;return[r?[n._v("\n                    "+n._s(r)+" ("+n._s(n._f("p6e-unicode")(t))+")\n                ")]:[n._v("\n                    "+n._s(n._f("p6e-unicode")(t))+"\n                ")]]}},{key:"col:port",fn:function(e){var r=e.item;return t("input-text",{attrs:{number:""},model:{value:r.port,callback:function(e){n.$set(r,"port",e)},expression:"item.port"}})}},{key:"col:user",fn:function(e){var r=e.item;return t("input-text",{model:{value:r.user,callback:function(e){n.$set(r,"user",e)},expression:"item.user"}})}},{key:"col:ssl",fn:function(e){var r=e.item;return t("input-checkbox",{model:{value:r.ssl,callback:function(e){n.$set(r,"ssl",e)},expression:"item.ssl"}},[t("translate",[n._v("SSL")])],1)}},{key:"row:actions",fn:function(e){var r=e.item;return t("input-checkable-select",{attrs:{values:n.getActions(r),options:{dns:n.$gettext("Zone Transfer"),domain_check:n.$gettext("Domain Check"),user_check:n.$gettext("User Check"),email:n.$gettext("Email Accounts"),show_all_users:n.$gettext("Show All Users")},showToggleAll:!1},on:{check:function(n){r[n.value]=n.state}}},[t("translate",{attrs:{slot:"label"},slot:"label"},[n._v("Actions")])],1)}}])},[n.checkedRows.length?t("div",{directives:[{name:"flex",rawName:"v-flex",value:{main:"end",cross:"center"},expression:"{ main: 'end', cross: 'center' }"}],staticClass:"table-actions",attrs:{slot:"table:after"},slot:"table:after"},[t("div",{directives:[{name:"flex",rawName:"v-flex",value:{dir:"column"},expression:"{ dir: 'column' }"}]},[t("ui-form-element",[t("translate",{attrs:{slot:"title"},slot:"title"},[n._v("With Selected")]),n._v(" "),t("input-password",{attrs:{slot:"content",placeholder:n.$gettext("Set Password (optional)")},slot:"content",model:{value:n.passwd,callback:function(e){n.passwd=e},expression:"passwd"}})],1),n._v(" "),t("ui-form-element",[t("div",{directives:[{name:"flex",rawName:"v-flex",value:{main:"end"},expression:"{ main: 'end' }"},{name:"gutter",rawName:"v-gutter",value:[null,.5],expression:"[null, .5]"}],attrs:{slot:"content"},slot:"content"},[t("ui-button",{attrs:{theme:"safe"},on:{click:function(e){n.doAction("save")}}},[t("translate",[n._v("Save")])],1),n._v(" "),t("ui-button",{attrs:{theme:"primary"},on:{click:function(e){n.doAction("test")}}},[t("translate",{attrs:{"translate-n":n.checkedRows.length,"translate-plural":"Test Connections"}},[n._v("\n                                    Test Connection\n                                ")])],1),n._v(" "),t("ui-button",{attrs:{theme:"danger"},on:{click:function(e){n.$dialog("DELETE_SERVERS_DIALOG").open()}}},[t("translate",[n._v("Delete")])],1)],1)])],1)]):n._e()])],1),n._v(" "),n.info.enabled?n._e():t("app-page-section",[t("translate",[n._v("\n            Multi Server is currently turned OFF\n        ")])],1),n._v(" "),t("ui-dialog-confirm",{attrs:{id:"OFF_CONFIRMATION_DIALOG"},on:{"click:confirm":n.turnOff}},[t("translate",[n._v("Are you sure you want to disable this feature?")])],1),n._v(" "),t("ui-dialog-delete-items",{attrs:{id:"DELETE_SERVERS_DIALOG",subject:n.$ngettext("server","server",n.checkedRows.length)},on:{"click:confirm":function(e){n.doAction("delete")}}}),n._v(" "),t("ui-dialog",{attrs:{id:"ADD_NEW_SERVER"}},[t("translate",{attrs:{slot:"title"},slot:"title"},[n._v("Add New Server")]),n._v(" "),t("div",{attrs:{slot:"content"},slot:"content"},[t("ui-tabs",{attrs:{tabs:[{id:"ip",desc:"IP Address"},{id:"domain",desc:"Domain"}]},on:{"update:selected":function(e){n.newServer.ip=""}}},[t("ui-form-element",{key:"tab:ip",attrs:{slot:"tab:ip",vertical:"",group:"server",validators:{required:!0,regex:n.regexps.ip}},slot:"tab:ip"},[t("input-ip",{attrs:{slot:"content"},slot:"content",model:{value:n.newServer.ip,callback:function(e){n.$set(n.newServer,"ip",e)},expression:"newServer.ip"}}),n._v(" "),t("translate",{attrs:{slot:"error:regex"},slot:"error:regex"},[n._v("\n                        Should be a valid IP Address\n                    ")])],1),n._v(" "),t("ui-form-element",{key:"tab:domain",attrs:{slot:"tab:domain",vertical:"",group:"server",validators:{required:!0,domain:!0}},slot:"tab:domain"},[t("input-text",{attrs:{slot:"content"},slot:"content",model:{value:n.newServer.ip,callback:function(e){n.$set(n.newServer,"ip",e)},expression:"newServer.ip"}})],1)],1),n._v(" "),t("ui-form-element",{attrs:{vertical:"",group:"server",validators:{required:!0,regex:n.regexps.port}}},[t("translate",{attrs:{slot:"title"},slot:"title"},[n._v("Port")]),n._v(" "),t("ui-input-group",{attrs:{slot:"content"},slot:"content"},[t("input-text",{attrs:{slot:"input"},slot:"input",model:{value:n.newServer.port,callback:function(e){n.$set(n.newServer,"port",e)},expression:"newServer.port"}}),n._v(" "),t("ui-button",{attrs:{slot:"additions:right"},on:{click:function(e){n.newServer.ssl=!n.newServer.ssl}},slot:"additions:right"},[t("input-checkbox",{model:{value:n.newServer.ssl,callback:function(e){n.$set(n.newServer,"ssl",e)},expression:"newServer.ssl"}},[t("translate",[n._v("SSL")])],1)],1)],1),n._v(" "),t("translate",{attrs:{slot:"error:regex"},slot:"error:regex"},[n._v("\n                    Should be a valid port number\n                ")])],1),n._v(" "),t("ui-form-element",{attrs:{vertical:"",group:"server",validators:{required:!0,regex:/^[a-zA-Z]+\w*$/}}},[t("translate",{attrs:{slot:"title"},slot:"title"},[n._v("Username")]),n._v(" "),t("input-text",{attrs:{slot:"content"},slot:"content",model:{value:n.newServer.user,callback:function(e){n.$set(n.newServer,"user",e)},expression:"newServer.user"}}),n._v(" "),t("translate",{attrs:{slot:"error:regex"},slot:"error:regex"},[n._v("Invalid username")])],1),n._v(" "),t("ui-form-element",{attrs:{vertical:"",group:"server",validators:{required:!0}}},[t("translate",{attrs:{slot:"title"},slot:"title"},[n._v("Password")]),n._v(" "),t("input-password",{attrs:{slot:"content",type:"text"},slot:"content",model:{value:n.newServer.passwd,callback:function(e){n.$set(n.newServer,"passwd",e)},expression:"newServer.passwd"}})],1)],1),n._v(" "),t("ui-button",{attrs:{slot:"buttons",theme:"safe",disabled:!n.$valid("server")},on:{click:n.addServer},slot:"buttons"},[t("translate",[n._v("Add")])],1)],1)],2)},s=[];t.d(e,"a",function(){return r}),t.d(e,"b",function(){return s})},2653:function(n,e){},2654:function(n,e,t){(n.exports=t(5)(!0)).push([n.i,"#multi-server .table-actions[data-v-3042214c]{font-weight:600}#multi-server .formElement[data-v-3042214c]{border-bottom-width:0}#multi-server input[type=number][data-v-3042214c]{width:75px;text-align:center;padding-right:0}#ADD_NEW_SERVER input[type=password][data-v-3042214c],#ADD_NEW_SERVER input[type=text][data-v-3042214c]{width:180px}#ADD_NEW_SERVER .inputGroup[data-v-3042214c]{min-width:16rem}","",{version:3,sources:["/usr/local/directadmin/data/skins/evolution/src/js/pages/admin/multi-server.vue"],names:[],mappings:"AA4VA,8CAEQ,eAAgB,CAFxB,4CAKQ,qBAAsB,CAL9B,kDAQQ,WACA,kBACA,eAAgB,CACnB,wGAKG,WAAY,CAFpB,6CAKQ,eAAgB,CACnB",file:"multi-server.vue?vue&type=style&index=0&id=3042214c&lang=scss&scoped=true",sourcesContent:['\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#multi-server {\n    .table-actions {\n        font-weight: 600;\n    }\n    .formElement {\n        border-bottom-width: 0;\n    }\n    input[type="number"] {\n        width: 75px;\n        text-align: center;\n        padding-right: 0;\n    }\n}\n\n#ADD_NEW_SERVER {\n    input[type="password"], input[type="text"] {\n        width: 180px;\n    }\n    .inputGroup {\n        min-width: 16rem;\n    }\n}\n'],sourceRoot:""}])},2655:function(n,e,t){"use strict";var r=t(1904);t.n(r).a}}]);