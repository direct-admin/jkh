(window.webpackJsonp=window.webpackJsonp||[]).push([[149],{1326:function(t,e,n){"use strict";n.r(e);var s=n(2143),a=n(2004);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);n(2722);var o=n(0),l=n(2720),i=n.n(l),c=Object(o.a)(a.default,s.a,s.b,!1,null,"5a2175ef",null);"function"==typeof i.a&&i()(c),e.default=c.exports},2002:function(t,e,n){var s=n(2721);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,n(4).default)("9104aa6a",s,!0,{})},2003:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=p(n(9)),a=p(n(19)),r=p(n(11)),o=p(n(10)),l=p(n(3)),i=n(7),c=n(23),u=n(17);function p(t){return t&&t.__esModule?t:{default:t}}e.default=(0,l.default)({},(0,i.preload)(["GET_ADMIN_BACKUP_RESTORE_OPTIONS","GET_BACKUP_ENCRYPTION_STATUS"]),{mixins:[(0,c.$bindTab)({defaultTab:"where",param:"step"})],data:function(){return{where:"local",whereData:{local_path:"",ftp_ip:"",ftp_username:"",ftp_password:"",ftp_path:"",ftp_port:"",ftp_secure:""},ip_choice:"file",ipSelectData:{ip:""},checkedRows:[],decrypt:!1,password:""}},computed:(0,l.default)({},(0,u.mapState)({options:function(t){return t.api.GET_ADMIN_BACKUP_RESTORE_OPTIONS.response},files:function(t){return t.api.GET_ADMIN_RESTORE_FILES.isDone?t.api.GET_ADMIN_RESTORE_FILES.response:t.api.GET_ADMIN_BACKUP_RESTORE_OPTIONS.response.filesData},encryptionEnabled:function(t){return t.api.GET_BACKUP_ENCRYPTION_STATUS.response.enabled}}),{checkedFiles:function(){return this.checkedRows.map(function(t){return t.file})},requestData:function(){return(0,l.default)({where:this.where},this.whereData,{ip_choice:this.ip_choice},this.ipSelectData,{select:this.checkedFiles,encryption_password:this.password})}}),methods:{reloadFiles:function(){this.$request("GET_ADMIN_RESTORE_FILES",(0,l.default)({where:this.where},this.whereData))},restoreBackup:function(){var t=this;return(0,o.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$actionRequest("RESTORE_ADMIN_BACKUP",t.requestData);case 2:e.sent&&t.$router.push({name:"admin/backups"});case 4:case"end":return e.stop()}},e,t)}))()}},created:function(){this.where=this.options.where,(0,a.default)(this.whereData,this.options.whereData),this.ipSelectData.ip=(0,s.default)(this.options.ips).shift()}})},2004:function(t,e,n){"use strict";n.r(e);var s=n(2003),a=n.n(s);for(var r in s)"default"!==r&&function(t){n.d(e,t,function(){return s[t]})}(r);e.default=a.a},2143:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("app-page",{attrs:{id:"restore-admin-backup"}},["where"===t.step?n("ui-button",{attrs:{slot:"header:buttons",theme:"primary"},on:{click:t.reloadFiles},slot:"header:buttons"},[n("translate",[t._v("Reload Files")])],1):t._e(),t._v(" "),n("app-page-section",[n("ui-steps",{attrs:{steps:[{id:"where",label:t.$gettext("Step 1: From Where"),desc:t.$gettext("Select directory for restore.")},{id:"ip_select",label:t.$gettext("Step 2: Select IP"),desc:t.$gettext("Select IP address used for restore.")},{id:"files",label:t.$gettext("Step 3: Select File(s)"),desc:t.$gettext("Select backup files to restore.")}],current:t.step,disabled:!t.$valid("scheduleBackup"),hideButtons:""},on:{"update:current":function(e){t.step=e}}},[n("div",{attrs:{slot:"step:where"},slot:"step:where"},[n("ui-form-element",{class:{dimmed:"local"!==t.where},attrs:{verticalOnPhone:!1,reverse:t.$_Client.isPhone}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Local")]),t._v(" "),n("input-check",{attrs:{slot:"content",type:"radio",value:"local"},slot:"content",model:{value:t.where,callback:function(e){t.where=e},expression:"where"}})],1),t._v(" "),n("transition",{attrs:{name:"fade"}},["local"===t.where?n("ui-form-element",{attrs:{group:"scheduleBackup",validators:{required:!0}}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Path")]),t._v(" "),n("input-text",{attrs:{slot:"content"},slot:"content",model:{value:t.whereData.local_path,callback:function(e){t.$set(t.whereData,"local_path",e)},expression:"whereData.local_path"}})],1):t._e()],1),t._v(" "),n("ui-form-element",{class:{dimmed:"ftp"!==t.where},attrs:{underline:"ftp"===t.where,verticalOnPhone:!1,reverse:t.$_Client.isPhone}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("FTP")]),t._v(" "),n("input-check",{attrs:{slot:"content",type:"radio",value:"ftp"},slot:"content",model:{value:t.where,callback:function(e){t.where=e},expression:"where"}})],1),t._v(" "),n("transition",{attrs:{name:"fade"}},["ftp"===t.where?n("ui-form-element",{attrs:{underline:!1}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("FTP Settings")]),t._v(" "),n("div",{attrs:{slot:"content"},slot:"content"},[n("ui-form-element",{attrs:{group:"scheduleBackup",validators:{required:!0}}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("IP")]),t._v(" "),n("input-text",{attrs:{slot:"content"},slot:"content",model:{value:t.whereData.ftp_ip,callback:function(e){t.$set(t.whereData,"ftp_ip",e)},expression:"whereData.ftp_ip"}})],1),t._v(" "),n("ui-form-element",{attrs:{group:"scheduleBackup",validators:{required:!0}}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Username")]),t._v(" "),n("input-text",{attrs:{slot:"content"},slot:"content",model:{value:t.whereData.ftp_username,callback:function(e){t.$set(t.whereData,"ftp_username",e)},expression:"whereData.ftp_username"}})],1),t._v(" "),n("ui-form-element",{attrs:{group:"scheduleBackup",validators:{required:!0}}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Password")]),t._v(" "),n("input-password",{attrs:{slot:"content"},slot:"content",model:{value:t.whereData.ftp_password,callback:function(e){t.$set(t.whereData,"ftp_password",e)},expression:"whereData.ftp_password"}})],1),t._v(" "),n("ui-form-element",{attrs:{group:"scheduleBackup",validators:{required:!0}}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Remote Path")]),t._v(" "),n("input-text",{attrs:{slot:"content"},slot:"content",model:{value:t.whereData.ftp_path,callback:function(e){t.$set(t.whereData,"ftp_path",e)},expression:"whereData.ftp_path"}})],1),t._v(" "),n("ui-form-element",{attrs:{group:"scheduleBackup",validators:{required:!0}}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Port")]),t._v(" "),n("input-text",{attrs:{slot:"content",number:""},slot:"content",model:{value:t.whereData.ftp_port,callback:function(e){t.$set(t.whereData,"ftp_port",e)},expression:"whereData.ftp_port"}})],1),t._v(" "),n("ui-form-element",{attrs:{verticalOnPhone:!1,reverse:t.$_Client.isPhone}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Secure FTP")]),t._v(" "),n("input-checkbox",{attrs:{slot:"content"},slot:"content",model:{value:t.whereData.ftp_secure,callback:function(e){t.$set(t.whereData,"ftp_secure",e)},expression:"whereData.ftp_secure"}})],1)],1)],1):t._e()],1)],1),t._v(" "),n("div",{attrs:{slot:"step:ip_select"},slot:"step:ip_select"},[n("ui-form-element",{attrs:{underline:"select"===t.ip_choice}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Use the IP")]),t._v(" "),n("div",{directives:[{name:"flex",rawName:"v-flex",value:{dir:t.$_Client.isPhone?"column":"row"},expression:"{\n                            dir: $_Client.isPhone\n                                ? 'column'\n                                : 'row'\n                        }"},{name:"gutter",rawName:"v-gutter",value:1,expression:"1"}],attrs:{slot:"content"},slot:"content"},[n("input-check",{attrs:{slot:"content",type:"radio",value:"file"},slot:"content",model:{value:t.ip_choice,callback:function(e){t.ip_choice=e},expression:"ip_choice"}},[n("translate",[t._v("stored in the backup")])],1),t._v(" "),n("input-check",{attrs:{slot:"content",type:"radio",value:"select"},slot:"content",model:{value:t.ip_choice,callback:function(e){t.ip_choice=e},expression:"ip_choice"}},[n("translate",[t._v("from the list")])],1)],1)],1),t._v(" "),n("transition",{attrs:{name:"fade"}},["select"===t.ip_choice?n("ui-form-element",{attrs:{underline:!1}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("IP")]),t._v(" "),n("input-usual-select",{attrs:{slot:"content",options:t.options.ips},slot:"content",model:{value:t.ipSelectData.ip,callback:function(e){t.$set(t.ipSelectData,"ip",e)},expression:"ipSelectData.ip"}})],1):t._e()],1),t._v(" "),n("ul",[n("li",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("\n                        Note that you must set the IP to be shared if you want to add multiple users to it. If you select a non-shared IP, you can only restore 1 user to it.\n                    ")]),t._v(" "),n("li",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("\n                        If the user already exists, this setting will have no effect.\n                    ")]),t._v(" "),n("li",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("\n                        When restoring a Reseller or Admin, if you select an IP from the list, that Reseller will only receive the single IP.\n                        You would need to add extra IPs to that accounts IP list after he's created.\n                    ")]),t._v(" "),n("li",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("\n                        If using the IPs from within the backup, any IPs that don't exist on this system will not be included. If there no IPs to be used, a Reseller or Admin will be restored to the server IP.\n                    ")])])],1),t._v(" "),n("div",{attrs:{slot:"step:files"},slot:"step:files"},[n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                        Location\n                    ")]),t._v(" "),n("input-text",{attrs:{slot:"content",disabled:"",value:t.files.location},slot:"content"})],1),t._v(" "),n("ui-form-element",{attrs:{underline:t.encryptionEnabled}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Files")]),t._v(" "),n("ui-table",t._b({attrs:{checkedRows:t.checkedRows,disablePagination:"",editable:!1},on:{"update:checkedRows":function(e){t.checkedRows=e}},scopedSlots:t._u([{key:"col:file",fn:function(e){var s=e.file;return[n("span",{class:{"c:txt:danger":t.files.issues&&t.files.issues[s]}},[t._v("\n                                "+t._s(s)+"\n                                "),t.files.issues&&t.files.issues[s]?n("ui-tooltip",[n("p",{attrs:{theme:"danger"},domProps:{innerHTML:t._s(t.files.issues[s]||"")}})]):t._e()],1)]}}])},"ui-table",{slot:"content",rows:t.files.list,columns:[{id:"file",label:t.$gettext("Files")}]},!1))],1),t._v(" "),t.encryptionEnabled?[n("ui-form-element",{attrs:{underline:t.decrypt,verticalOnPhone:!1,reverse:t.$_Client.isPhone}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Backup Decryption")]),t._v(" "),n("input-checkbox",{attrs:{slot:"content"},slot:"content",model:{value:t.decrypt,callback:function(e){t.decrypt=e},expression:"decrypt"}})],1),t._v(" "),n("transition",{attrs:{name:"fadeBounce"}},[t.decrypt?n("ui-form-element",{attrs:{underline:!1,group:"scheduleBackup",validators:{required:!0}}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Password")]),t._v(" "),n("input-password",{attrs:{slot:"content"},slot:"content",model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1):t._e()],1)]:t._e()],2)])],1),t._v(" "),n("ui-button",{attrs:{slot:"footer:buttons",theme:"safe",validateGroup:"scheduleBackup"},on:{click:t.restoreBackup},slot:"footer:buttons"},[n("translate",[t._v("Restore")])],1)],1)},a=[];n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a})},2720:function(t,e){},2721:function(t,e,n){(t.exports=n(5)(!0)).push([t.i,"#restore-admin-backup .dimmed[data-v-5a2175ef]{opacity:.7}#restore-admin-backup .ui-steps-content>div>.formElement[data-v-5a2175ef]{margin-left:0!important}#restore-admin-backup .formElement .formElement[data-v-5a2175ef]:last-child{border-bottom-width:0}#restore-admin-backup .select[data-v-5a2175ef],#restore-admin-backup input[type=text][data-v-5a2175ef]{width:240px}","",{version:3,sources:["/usr/local/directadmin/data/skins/evolution/src/js/pages/admin/backups/restore.vue"],names:[],mappings:"AAqWA,+CACc,UAAW,CADzB,0EAGQ,uBAA4B,CAHpC,4EAMQ,qBAAwB,CANhC,uGASQ,WAAY,CACf",file:"restore.vue?vue&type=style&index=0&id=5a2175ef&lang=scss&scoped=true",sourcesContent:['\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#restore-admin-backup {\n    .dimmed { opacity: .7; }\n    .ui-steps-content > div > .formElement {\n        margin-left: 0rem !important;\n    }\n    .formElement .formElement:last-child {\n        border-bottom-width: 0px;\n    }\n    input[type="text"], .select {\n        width: 240px;\n    }\n}\n'],sourceRoot:""}])},2722:function(t,e,n){"use strict";var s=n(2002);n.n(s).a}}]);