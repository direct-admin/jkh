(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{1259:function(t,e,n){"use strict";n.r(e);var a=n(2223),s=n(1746);for(var i in s)"default"!==i&&function(t){n.d(e,t,function(){return s[t]})}(i);var r=n(0),o=n(2533),l=n.n(o),u=Object(r.a)(s.default,a.a,a.b,!1,null,null,null);"function"==typeof l.a&&l()(u),e.default=u.exports},1332:function(t,e,n){var a=n(1364);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n(4).default)("2f3c8031",a,!0,{})},1333:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=c(n(11)),s=c(n(10)),i=c(n(9)),r=c(n(1)),o=c(n(3)),l=n(6),u=n(17);function c(t){return t&&t.__esModule?t:{default:t}}e.default={props:{package:{type:String,required:!1,default:"newpackage"},initialData:{type:Object,required:!1}},data:function(){return{features:{},limits:{},skin:"",language:"",homeOverride:{value:"",options:{}}}},computed:(0,o.default)({},(0,u.mapState)("api",{isDone:function(t){return t.GET_USER_PACKAGE.isDone},skinOptions:function(t){return this.initialData?this.initialData.skin.options:t.GET_USER_PACKAGE.response.skin.options},languageOptions:function(t){return this.initialData?{}:t.GET_USER_PACKAGE.response.language.options}}),{showLanguage:function(){return!this.initialData},processedData:function(){return(0,o.default)({language:this.language,skin:this.skin,create_user_home_override:this.canOverrideHome?this.homeOverride.value:null},l._.reduce(this.limits,function(t,e,n){var a;return(0,o.default)({},t,(a={},(0,r.default)(a,n,["bandwidth","quota"].includes(n)?String(e.value/Math.pow(2,20)):e.value),(0,r.default)(a,"u"+n,!e.value||e.unlimited||null),a))},{}),l._.mapValues(this.features,function(t){return t?"ON":"OFF"}))},canOverrideHome:function(){return this.homeOverride&&!!(0,i.default)(this.homeOverride.options).length}}),watch:{processedData:function(t){this.$emit("update",t)}},created:function(){this.limitLabels={bandwidth:this.$gettext("Bandwidth (MB)"),quota:this.$gettext("Disk Space (MB)"),inode:this.$state.app.tokens.HAVE_INODE?this.$gettext("Inode"):void 0,vdomains:this.$gettext("Domains"),nsubdomains:this.$gettext("Sub-Domains"),nemails:this.$gettext("E-mail Accounts"),nemailf:this.$gettext("E-mail Forwarders"),nemailml:this.$gettext("Mailing Lists"),nemailr:this.$gettext("AutoResponders"),mysql:this.$gettext("MySQL Databases"),domainptr:this.$gettext("Domain Pointers"),ftp:this.$gettext("FTP Accounts")},this.featureLabels={aftp:this.$gettext("Anonymous FTP Accounts"),cgi:this.$gettext("CGI Access"),php:this.$gettext("PHP Access"),spam:this.$gettext("SpamAssassin"),catchall:this.$gettext("Catch-All E-mail"),ssl:this.$gettext("SSL Access"),ssh:this.$gettext("SSH Access"),cron:this.$gettext("Cron Jobs"),sysinfo:this.$gettext("System Info"),login_keys:this.$gettext("Login Keys"),dnscontrol:this.$gettext("DNS Control"),suspend_at_limit:this.$gettext("Suspend At Limit")},this.loadPackage()},methods:{checkEmptyness:function(t){t.value||(t.unlimited=!0)},loadPackage:function(){var t=this;return(0,s.default)(a.default.mark(function e(){var n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.initialData,e.t0){e.next=5;break}return e.next=4,t.$request("GET_USER_PACKAGE",t.$get("package"));case 4:e.t0=e.sent;case 5:n=e.t0,t.limits=l._.cloneDeep(n.limits),t.features=l._.cloneDeep(n.features),t.skin=n.skin.value,t.showLanguage&&(t.language=n.language.value),t.homeOverride=l._.cloneDeep(n.homeOverride),null===t.package&&(t.limits.bandwidth.value*=Math.pow(2,20),t.limits.quota.value*=Math.pow(2,20));case 12:case"end":return e.stop()}},e,t)}))()}}}},1334:function(t,e,n){"use strict";n.r(e);var a=n(1333),s=n.n(a);for(var i in a)"default"!==i&&function(t){n.d(e,t,function(){return a[t]})}(i);e.default=s.a},1353:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isDone||t.initialData?n("div",{staticClass:"user-package"},[t._l(t.limitLabels,function(e,a){return e&&t.limits[a]?n("ui-form-element",{key:a},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e))]),t._v(" "),n(["bandwidth","quota"].includes(a)?"input-size":"input-text",{directives:[{name:"flex-item",rawName:"v-flex-item",value:{grow:!0},expression:"{ grow: true }"}],tag:"component",attrs:{slot:"content",disabled:t.limits[a].unlimited,number:""},on:{blur:function(e){t.checkEmptyness(t.limits[a])}},slot:"content",model:{value:t.limits[a].value,callback:function(e){t.$set(t.limits[a],"value",e)},expression:"limits[key].value"}},[n("ui-button",{attrs:{slot:"additions:right",tabindex:"-1"},on:{click:function(e){t.limits[a].unlimited=!t.limits[a].unlimited}},slot:"additions:right"},[n("input-checkbox",{attrs:{label:t.$gettext("Unlimited")},model:{value:t.limits[a].unlimited,callback:function(e){t.$set(t.limits[a],"unlimited",e)},expression:"limits[key].unlimited"}})],1)],1)],1):t._e()}),t._v(" "),t._l(t.featureLabels,function(e,a){return e&&void 0!==t.features[a]?n("ui-form-element",{key:a,class:{dimmed:!t.features[a]}},[t.$_Client.isPhone?t._e():n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n            "+t._s(e)+"\n        ")]),t._v(" "),n("div",{attrs:{slot:"content"},slot:"content"},[n("input-checkbox",{model:{value:t.features[a],callback:function(e){t.$set(t.features,a,e)},expression:"features[key]"}},[t.$_Client.isPhone?[t._v("\n                    "+t._s(e)+"\n                ")]:t._e()],2)],1)],1):t._e()}),t._v(" "),n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Skin")]),t._v(" "),n("div",{directives:[{name:"flex",rawName:"v-flex"}],attrs:{slot:"content"},slot:"content"},[n("input-usual-select",{attrs:{options:t.skinOptions},model:{value:t.skin,callback:function(e){t.skin=e},expression:"skin"}})],1)],1),t._v(" "),t.showLanguage?n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Language")]),t._v(" "),n("div",{directives:[{name:"flex",rawName:"v-flex"}],attrs:{slot:"content"},slot:"content"},[n("input-usual-select",{attrs:{options:t.languageOptions},model:{value:t.language,callback:function(e){t.language=e},expression:"language"}})],1)],1):t._e(),t._v(" "),t.canOverrideHome?n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Home Directory")]),t._v(" "),n("div",{attrs:{slot:"content"},slot:"content"},[n("input-usual-select",{attrs:{options:t.homeOverride.options},model:{value:t.homeOverride.value,callback:function(e){t.$set(t.homeOverride,"value",e)},expression:"homeOverride.value"}})],1)],1):t._e()],2):t._e()},s=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s})},1364:function(t,e,n){(t.exports=n(5)(!0)).push([t.i,".user-package input[type=text]{width:1px}","",{version:3,sources:["/usr/local/directadmin/data/skins/evolution/src/js/components/local/user-package.vue"],names:[],mappings:"AAmNA,+BAEQ,SAAU,CACb",file:"user-package.vue?vue&type=style&index=0&lang=scss",sourcesContent:['\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.user-package {\n    input[type="text"] {\n        width: 1px;\n    }\n}\n\n'],sourceRoot:""}])},1365:function(t,e,n){"use strict";var a=n(1332);n.n(a).a},1366:function(t,e,n){"use strict";n.r(e);var a=n(1353),s=n(1334);for(var i in s)"default"!==i&&function(t){n.d(e,t,function(){return s[t]})}(i);n(1365);var r=n(0),o=Object(r.a)(s.default,a.a,a.b,!1,null,null,null);e.default=o.exports},1743:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r(n(11)),s=r(n(10)),i=r(n(19));function r(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{subject:"",message:""}},methods:{loadUserMessage:function(){(0,i.default)(this,this.$state.api.GET_USER_MESSAGE.response)},saveUserMessage:function(){this.$actionRequest("UPDATE_USER_MESSAGE",this.$get(["subject","message"]))},resetMessage:function(){var t=this;return(0,s.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$actionRequest("RESET_USER_MESSAGE");case 2:return e.t0=i.default,e.t1=t,e.next=6,t.$request("GET_USER_MESSAGE");case 6:e.t2=e.sent,(0,e.t0)(e.t1,e.t2);case 8:case"end":return e.stop()}},e,t)}))()}}}},1744:function(t,e,n){"use strict";n.r(e);var a=n(1743),s=n.n(a);for(var i in a)"default"!==i&&function(t){n.d(e,t,function(){return a[t]})}(i);e.default=s.a},1745:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=f(n(11)),s=f(n(10)),i=f(n(9)),r=f(n(24)),o=f(n(1)),l=f(n(3)),u=n(7),c=n(17),d=f(n(1366)),p=f(n(2534));function f(t){return t&&t.__esModule?t:{default:t}}e.default=(0,l.default)({},(0,u.preload)({GET_USER_PACKAGES:function(){return{ipp:9999}},GET_IP_CONFIG:function(){return{}}}),{components:{UserPackage:d.default,ChangeUserMessageDialog:p.default},computed:(0,l.default)({},(0,c.mapState)({validation:function(t){return{username:t.api.VALIDATE_USERNAME.response.error,password:t.api.VALIDATE_PASSWORD.response.error}},packages:function(t){return t.api.GET_USER_PACKAGES.response.rows.map(function(t){return t.package})},ips:function(t){var e=this;return t.api.GET_IP_CONFIG.response.ips.filter(function(t){return"owned"!==t.status}).reduce(function(t,n){var a=n.ip,s=n.reseller?null:e.$gettext("Shared"),i="server"===n.status?e.$gettext("Server"):null;return(0,l.default)({},t,(0,o.default)({},n.ip,[a,s,i].filter(function(t){return t}).join(" - ")))},{})}}),{requestData:function(){return(0,l.default)({username:this.username,email:this.$p6e.email2ascii(this.email),passwd:this.passwd,passwd2:this.passwd,domain:this.$p6e.toA(this.domain),ip:this.ip,notify:this.notify,package:this.package},this.packageData)}}),data:function(){return{username:"",email:"",passwd:"",domain:"",package:"",ip:"",notify:!0,customize:!1,packageData:{}}},created:function(){var t=(0,i.default)(this.ips),e=(0,r.default)(t,1);if(this.ip=e[0],this.packages.length){var n=(0,r.default)(this.packages,1);this.package=n[0]}},methods:{editUserMessage:function(){var t=this;return(0,s.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$request("GET_USER_MESSAGE");case 2:t.$dialog("CHANGE_USER_MESSAGE_DIALOG").open();case 3:case"end":return e.stop()}},e,t)}))()},create:function(){var t=this;return(0,s.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$actionRequest("CREATE_USER",t.requestData);case 2:e.sent&&t.$router.push({name:"reseller/users"});case 4:case"end":return e.stop()}},e,t)}))()}}})},1746:function(t,e,n){"use strict";n.r(e);var a=n(1745),s=n.n(a);for(var i in a)"default"!==i&&function(t){n.d(e,t,function(){return a[t]})}(i);e.default=s.a},2074:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ui-dialog",{attrs:{size:"normal",id:"CHANGE_USER_MESSAGE_DIALOG",noAutoClose:"",noCloseBtn:""},on:{"dialog:open":t.loadUserMessage}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n        Edit User Message\n    ")]),t._v(" "),n("template",{slot:"content"},[n("ui-form-element",{attrs:{group:"message",validators:{required:!0},vertical:""}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Subject")]),t._v(" "),n("input-text",{attrs:{slot:"content"},slot:"content",model:{value:t.subject,callback:function(e){t.subject=e},expression:"subject"}})],1),t._v(" "),n("ui-form-element",{attrs:{group:"message",validators:{required:!0},vertical:""}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Message")]),t._v(" "),n("input-textarea",{attrs:{slot:"content"},slot:"content",model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1)],1),t._v(" "),n("ui-button",{attrs:{slot:"buttons",theme:"safe",validateGroup:"message"},on:{click:t.saveUserMessage},slot:"buttons"},[n("translate",[t._v("Save")])],1),t._v(" "),n("ui-button",{attrs:{slot:"buttons",theme:"danger"},on:{click:t.resetMessage},slot:"buttons"},[n("translate",[t._v("Reset")])],1)],2)},s=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s})},2223:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("app-page",{attrs:{id:"create-user"}},[n("ui-button",{attrs:{slot:"header:buttons",theme:"safe"},on:{click:t.editUserMessage},slot:"header:buttons"},[n("translate",[t._v("Change User Message")])],1),t._v(" "),this.packages.length?n("app-page-section",[n("ui-form-element",{attrs:{group:"createUser",validators:{required:!0,apiValidation:"VALIDATE_USERNAME"}}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Username")]),t._v(" "),n("input-text",{attrs:{slot:"content"},slot:"content",model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),t._v(" "),n("span",{attrs:{slot:"error:apiValidation"},domProps:{textContent:t._s(t.validation.username)},slot:"error:apiValidation"})],1),t._v(" "),n("ui-form-element",{attrs:{group:"createUser",validators:{required:!0,email:!0}}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("E-mail")]),t._v(" "),n("input-text",{attrs:{slot:"content"},slot:"content",model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),n("translate",{attrs:{slot:"error:email"},slot:"error:email"},[t._v("Should be valid email address")])],1),t._v(" "),n("ui-form-element",{attrs:{group:"createUser",validators:{required:!0,apiValidation:"VALIDATE_PASSWORD"}}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Password")]),t._v(" "),n("input-password",{attrs:{slot:"content",showGenerator:""},slot:"content",model:{value:t.passwd,callback:function(e){t.passwd=e},expression:"passwd"}}),t._v(" "),n("span",{attrs:{slot:"error:apiValidation"},domProps:{textContent:t._s(t.validation.password)},slot:"error:apiValidation"})],1),t._v(" "),n("ui-form-element",{attrs:{group:"createUser",validators:{required:!0,domain:!0}}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Domain")]),t._v(" "),n("input-text",{attrs:{slot:"content"},slot:"content",model:{value:t.domain,callback:function(e){t.domain=e},expression:"domain"}}),t._v(" "),n("translate",{attrs:{slot:"error:domain"},slot:"error:domain"},[t._v("Should be valid domain name")])],1),t._v(" "),t.customize?n("user-package",{attrs:{package:t.package},on:{update:function(e){t.packageData=e}}}):n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("User Package")]),t._v(" "),n("input-usual-select",{attrs:{slot:"content",options:t.packages},slot:"content",model:{value:t.package,callback:function(e){t.package=e},expression:"package"}},[n("ui-button",{attrs:{slot:"additions:right"},on:{click:function(e){t.customize=!0}},slot:"additions:right"},[n("translate",[t._v("Customize")])],1)],1)],1),t._v(" "),n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("IP")]),t._v(" "),n("input-usual-select",{attrs:{slot:"content",options:t.ips},slot:"content",model:{value:t.ip,callback:function(e){t.ip=e},expression:"ip"}})],1),t._v(" "),n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"}),t._v(" "),n("div",{attrs:{slot:"content"},slot:"content"},[n("input-checkbox",{model:{value:t.notify,callback:function(e){t.notify=e},expression:"notify"}},[n("translate",[t._v("Send E-mail Notification")])],1)],1)],1)],1):n("app-page-section",[n("translate",{attrs:{tag:"p"}},[t._v("Sorry, it seems that there are no user packages created yet. Would you like to create one?")]),t._v(" "),n("ui-button-link",{directives:[{name:"margin",rawName:"v-margin",value:[1,0],expression:"[1, 0]"}],attrs:{name:"reseller/user-packages/create",theme:"safe"}},[n("translate",[t._v("Create User Package")])],1)],1),t._v(" "),t.packages.length?n("ui-button",{attrs:{slot:"footer:buttons",validateGroup:"createUser",theme:"primary"},on:{click:t.create},slot:"footer:buttons"},[n("translate",[t._v("Submit")])],1):t._e(),t._v(" "),n("change-user-message-dialog")],1)},s=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s})},2533:function(t,e){},2534:function(t,e,n){"use strict";n.r(e);var a=n(2074),s=n(1744);for(var i in s)"default"!==i&&function(t){n.d(e,t,function(){return s[t]})}(i);var r=n(0),o=Object(r.a)(s.default,a.a,a.b,!1,null,null,null);e.default=o.exports}}]);