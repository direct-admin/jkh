(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{1261:function(t,e,n){"use strict";n.r(e);var s=n(2225),a=n(1751);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);var i=n(0),o=n(2536),l=n.n(o),u=Object(i.a)(a.default,s.a,s.b,!1,null,null,null);"function"==typeof l.a&&l()(u),e.default=u.exports},1335:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,a=n(3),r=(s=a)&&s.__esModule?s:{default:s};function i(){var t={none:this.$gettext("None"),abuse:this.$gettext("Abuse"),billing:this.$gettext("Billing Issue"),inactive:this.$gettext("Inactive"),other:this.$gettext("Other"),spam:this.$gettext("Spam"),user_bandwidth:this.$gettext("User Bandwidth"),user_quota:this.$gettext("User Quota")};return"admin"===this.$state.app.user.accessLevel?(0,r.default)({},t,{reseller_bandwidth:this.$gettext("Reseller Bandwidth"),reseller_quota:this.$gettext("Reseller Quota")}):t}e.reasons=i,e.default={$exports:{reasons:i},data:function(){return{reason:"none"}},computed:{reasons:i}}},1336:function(t,e,n){"use strict";n.r(e);var s=n(1335),a=n.n(s);for(var r in s)"default"!==r&&function(t){n.d(e,t,function(){return s[t]})}(r);e.default=a.a},1337:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{priority:"20",subject:"",message:"",emailOnly:!1}},props:{users:{type:Array,required:!1}},computed:{priorityOptions:function(){return{10:this.$gettext("Low"),20:this.$gettext("Middle"),30:this.$gettext("High")}}},methods:{sendMessage:function(){this.$actionRequest("SEND_MESSAGE_TO_MULTIPLE_USERS",{users:this.users,priority:this.priority.value,subject:this.subject,message:this.message,emailOnly:this.emailOnly})}}}},1338:function(t,e,n){"use strict";n.r(e);var s=n(1337),a=n.n(s);for(var r in s)"default"!==r&&function(t){n.d(e,t,function(){return s[t]})}(r);e.default=a.a},1351:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ui-dialog",{attrs:{id:"CREATE_MESSAGE_DIALOG",size:"normal"},on:{"dialog:close":t.$reset}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Send a Message")]),t._v(" "),n("template",{slot:"content"},[n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("To:")]),t._v(" "),n("div",{attrs:{slot:"content"},slot:"content"},[n("ui-grid",{attrs:{wrap:""}},t._l(t.users,function(e){return n("ui-badge",{key:e,attrs:{theme:"neutral",size:"big",icon:"person"}},[t._v("\n                        "+t._s(e)+"\n                    ")])}))],1)],1),t._v(" "),n("ui-form-element",{attrs:{group:"message",validators:{required:!0}}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Priority:")]),t._v(" "),n("input-usual-select",{attrs:{slot:"content",options:t.priorityOptions},slot:"content",model:{value:t.priority,callback:function(e){t.priority=e},expression:"priority"}})],1),t._v(" "),n("ui-form-element",{attrs:{group:"message",validators:{required:!0}}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Subject:")]),t._v(" "),n("input-text",{attrs:{slot:"content"},slot:"content",model:{value:t.subject,callback:function(e){t.subject=e},expression:"subject"}})],1),t._v(" "),n("ui-form-element",{attrs:{group:"message",validators:{required:!0}}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Message:")]),t._v(" "),n("input-textarea",{attrs:{slot:"content",rows:"10"},slot:"content",model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1),t._v(" "),n("ui-form-element",[n("span",{attrs:{slot:"title"},slot:"title"}),t._v(" "),n("input-check",{attrs:{slot:"content"},slot:"content",model:{value:t.emailOnly,callback:function(e){t.emailOnly=e},expression:"emailOnly"}},[n("translate",[t._v("E-mail Only")])],1)],1)],1),t._v(" "),n("ui-button",{attrs:{slot:"buttons",theme:"primary",validateGroup:"message"},on:{click:t.sendMessage},slot:"buttons"},[t._v("\n        Send Message\n    ")])],2)},a=[];n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a})},1352:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ui-dialog",{attrs:{id:"SUSPEND_USER_DIALOG"}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Suspend user")]),t._v(" "),n("ui-form-element",{attrs:{slot:"content",vertical:""},slot:"content"},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Reason")]),t._v(" "),n("input-usual-select",{attrs:{slot:"content",options:t.reasons},slot:"content",model:{value:t.reason,callback:function(e){t.reason=e},expression:"reason"}})],1),t._v(" "),n("ui-button",{attrs:{slot:"buttons",theme:"safe"},on:{click:function(e){t.$emit("suspend",t.reason)}},slot:"buttons"},[n("translate",[t._v("Suspend")])],1)],1)},a=[];n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a})},1369:function(t,e,n){"use strict";n.r(e);var s=n(1352),a=n(1336);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);var i=n(0),o=Object(i.a)(a.default,s.a,s.b,!1,null,null,null);e.default=o.exports},1370:function(t,e,n){"use strict";n.r(e);var s=n(1351),a=n(1338);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);var i=n(0),o=Object(i.a)(a.default,s.a,s.b,!1,null,null,null);e.default=o.exports},1750:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o(n(3)),a=n(7),r=o(n(1370)),i=o(n(1369));function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,s.default)({},(0,a.preload)("GET_USERS"),{components:{CreateMessageDialog:r.default,SuspendUserDialog:i.default},data:function(){return{select:[],domainFilter:""}},computed:{reasons:i.default.$exports.reasons},methods:{deleteUsers:function(){this.$actionRequest("DELETE_USERS",this.$get("select"))},suspendUsers:function(t){this.$actionRequest("SUSPEND_USERS",{select:this.select,reason:t})},unsuspendUsers:function(){this.$actionRequest("UNSUSPEND_USERS",this.$get("select"))}}})},1751:function(t,e,n){"use strict";n.r(e);var s=n(1750),a=n.n(s);for(var r in s)"default"!==r&&function(t){n.d(e,t,function(){return s[t]})}(r);e.default=a.a},2225:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("app-page",[n("ui-button-link",{attrs:{slot:"header:buttons",theme:"primary",name:"reseller/users/create"},slot:"header:buttons"},[n("translate",[t._v("Create User")])],1),t._v(" "),n("app-page-section",[n("ui-form-element",{attrs:{underline:!1}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                Show domains that contain\n            ")]),t._v(" "),n("input-text",{attrs:{slot:"content"},slot:"content",model:{value:t.domainFilter,callback:function(e){t.domainFilter=e},expression:"domainFilter"}},[n("ui-button",{attrs:{slot:"additions:right"},on:{click:function(e){t.domainFilter=""}},slot:"additions:right"},[n("translate",[t._v("Clear Search")])],1)],1),t._v("\n            "+t._s(t.domainFilter)+"\n        ")],1)],1),t._v(" "),n("app-page-section",[n("ui-api-table",t._b({on:{"action:message":function(e){t.$dialog("CREATE_MESSAGE_DIALOG").open()},"action:suspend":function(e){t.$dialog("SUSPEND_USER_DIALOG").open()},"action:unsuspend":t.unsuspendUsers,"action:delete":function(e){t.$dialog("DELETE_ITEMS_DIALOG").open()}},scopedSlots:t._u([{key:"col:username",fn:function(e){var s=e.username,a=e.suspended,r=e.reason;return n("div",{staticClass:"wrap:nowrap"},[n("ui-link",{attrs:{name:"reseller/users/view",params:{user:s}}},[t._v("\n                    "+t._s(s)+"\n                ")]),t._v(" "),a?n("ui-tooltip",{attrs:{theme:"danger",icon:"warning"}},[n("translate",{attrs:{"translate-params":{reason:t.reasons[r]}}},[t._v("Suspended: %{ reason }")])],1):t._e()],1)}},{key:"col:bandwidth",fn:function(e){var s=e.bandwidth;return[e.corrupted?n("ui-badge",{attrs:{theme:"danger"}},[n("translate",[t._v("Error Reading File")])],1):[t._v("\n                    "+t._s(t._f("humanReadableSize")(s.usage))+"\n                    /\n                    "),s.limit!==1/0?[t._v("\n                        "+t._s(t._f("humanReadableSize")(s.limit))+"\n                    ")]:[t._v("∞")]]]}},{key:"col:quota",fn:function(e){var n=e.quota;return[e.corrupted?t._e():[t._v("\n                    "+t._s(t._f("humanReadableSize")(n.usage))+"\n                    /\n                    "),n.limit!==1/0?[t._v("\n                        "+t._s(t._f("humanReadableSize")(n.limit))+"\n                    ")]:[t._v("∞")]]]}},{key:"col:vdomains",fn:function(e){var n=e.vdomains;return[e.corrupted?t._e():[t._v("\n                    "+t._s(n.usage)+"\n                    /\n                    "),n.limit!==1/0?[t._v("\n                        "+t._s(n.limit)+"\n                    ")]:[t._v("∞")]]]}},{key:"col:ip",fn:function(e){var s=e.ip;return t._l(s,function(e){return n("p",{directives:[{name:"margin",rawName:"v-margin",value:0,expression:"0"}]},[t._v(t._s(e))])})}},{key:"col:domains",fn:function(e){var s=e.item;return t._l(Object.keys(s.domains),function(e){return n("div",[n("a",{attrs:{href:"//"+e}},[t._v(t._s(t._f("p6e-unicode")(e)))]),t._v(" "),t._l(s.domains[e],function(e){return n("div",{directives:[{name:"margin",rawName:"v-margin",value:[,,,1],expression:"[,,,1]"}],staticClass:"wrap:nowrap"},[n("b",[t._v("P: ")]),n("a",{attrs:{href:"//"+e}},[t._v(t._s(t._f("p6e-unicode")(e)))]),n("br")])})],2)})}}]),model:{value:t.select,callback:function(e){t.select=e},expression:"select"}},"ui-api-table",{endpoint:"GET_USERS",rowID:"username",columns:{username:{label:t.$gettext("Username"),grow:!0},bandwidth:t.$gettext("Bandwidth"),quota:t.$gettext("Disk Usage"),vdomains:t.$gettext("# of domains"),domains:t.$gettext("Domains"),ip:t.$gettext("IP(s)")},filters:[{column:"domains",type:"contains",value:t.domainFilter}],actions:{message:t.$gettext("Send a Message"),suspend:t.$gettext("Suspend"),unsuspend:t.$gettext("Unsuspend"),delete:t.$gettext("Delete")},updateOn:["DELETE_USERS","SUSPEND_USERS","UNSUSPEND_USERS"],verticalLayout:t.$_Client.isPhone},!1))],1),t._v(" "),n("template",{slot:"bottom:links"},[n("ui-link",{attrs:{bullet:"",name:"reseller/passwords"}},[n("translate",[t._v("Change A User's Password")])],1),t._v(" "),n("ui-link",{attrs:{bullet:"",name:"reseller/users/modify",params:{user:t.$state.app.user.name}}},[n("translate",[t._v("Modify your own user data")])],1)],1),t._v(" "),n("create-message-dialog",{attrs:{users:t.select}}),t._v(" "),n("ui-dialog-delete-items",{attrs:{subject:t.$ngettext("user","users",t.select.length)},on:{"click:confirm":t.deleteUsers}}),t._v(" "),n("suspend-user-dialog",{on:{suspend:t.suspendUsers}})],2)},a=[];n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a})},2536:function(t,e){}}]);