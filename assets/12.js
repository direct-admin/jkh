(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{1189:function(t,e,a){"use strict";a.r(e);var s=a(2199),n=a(1417);for(var l in n)"default"!==l&&function(t){a.d(e,t,function(){return n[t]})}(l);var i=a(0),o=a(2310),u=a.n(o),r=Object(i.a)(n.default,s.a,s.b,!1,null,null,null);"function"==typeof u.a&&u()(r),e.default=r.exports},1412:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{items:{type:Array,required:!0}},computed:{rows:function(){return this.items.filter(function(t){return void 0!==t.value})}},data:function(){return{columns:[{id:"label",label:this.$gettext("Setting"),width:"30%",editable:!1},{id:"value",label:this.$gettext("Usage"),grow:!0,editable:!1}]}}}},1413:function(t,e,a){"use strict";a.r(e);var s=a(1412),n=a.n(s);for(var l in s)"default"!==l&&function(t){a.d(e,t,function(){return s[t]})}(l);e.default=n.a},1414:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{select:[],awstatsDir:"/awstats"}},props:{showLinks:{type:Boolean,required:!1,default:!0}},methods:{makePublic:function(){this.$actionRequest("SET_PUBLIC_STATS",{select:this.select,path:this.awstatsDir.replace("/","")},{reset:!0})}}}},1415:function(t,e,a){"use strict";a.r(e);var s=a(1414),n=a.n(s);for(var l in s)"default"!==l&&function(t){a.d(e,t,function(){return s[t]})}(l);e.default=n.a},1416:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=v(a(39)),n=v(a(1)),l=v(a(11)),i=v(a(10)),o=v(a(3)),u=a(7),r=a(23),c=v(a(2312)),d=v(a(2311));function v(t){return t&&t.__esModule?t:{default:t}}e.default=(0,o.default)({},(0,u.preload)("GET_USER_STATS"),{mixins:[(0,r.$bindTab)({param:"tab",defaultTab:"webalizer"})],components:{WebalizerTable:c.default,UsageTable:d.default},data:function(){return{account:{email:"",name:"",skin:"",awstats:"0"}}},computed:(0,o.default)({},(0,u.mapResponse)({GET_USER_STATS:["stats","addons"]}),{skinOptions:function(){return!!this.stats.skin&&this.stats.skin.map(function(t){return t.value})},selectedSkin:function(){return this.stats.skin&&this.skinOptions?this.stats.skin.find(function(t){return!!t.selected}).value:""}}),created:function(){this.resetAccountConfig(),this.skinOptions&&(this.account.skin=this.selectedSkin)},methods:{verifyLicense:function(){this.$actionRequest("LICENSE_VERIFY")},updateDiskUsage:function(){var t=this;return(0,i.default)(l.default.mark(function e(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$actionRequest("UPDATE_DISK_USAGE");case 2:t.$request("GET_USER_STATS");case 3:case"end":return e.stop()}},e,t)}))()},resetAccountConfig:function(){this.account={name:this.stats.name,email:this.$p6e.email2unicode(this.stats.email),awstats:this.stats.awstats}},saveAccountConfig:function(){var t=this;return(0,i.default)(l.default.mark(function e(){var a,o;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(){var e=(0,i.default)(l.default.mark(function e(a){var s,i;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.account[a]!==t.stats[a]){e.next=2;break}return e.abrupt("return",!1);case 2:return s={name:"nvalue",email:"evalue",awstats:"awstatsvalue"}[a],i="email"===a?t.$p6e.email2ascii(t.account[a]):t.account[a],e.abrupt("return",t.$actionRequest("SET_USER_"+a.toUpperCase(),(0,n.default)({},s,i)));case 5:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}(),e.next=3,s.default.all(["name","email","awstats"].map(a));case 3:if(o=e.sent,!t.skinOptions||t.account.skin===t.selectedSkin){e.next=8;break}return e.next=7,t.$actionRequest("SET_USER_SKIN",{skinvalue:t.account.skin});case 7:window.location.href="/CMD_USER_STATS?domain="+t.$domain;case 8:if(!o.some(function(t){return t})){e.next=12;break}return e.next=11,t.$request("GET_USER_STATS");case 11:t.resetAccountConfig();case 12:case"end":return e.stop()}},e,t)}))()}}})},1417:function(t,e,a){"use strict";a.r(e);var s=a(1416),n=a.n(s);for(var l in s)"default"!==l&&function(t){a.d(e,t,function(){return s[t]})}(l);e.default=n.a},2105:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ui-table",t._b({attrs:{isCheckable:!1,isSortable:!1,disablePagination:"",hideBeforeControls:""},scopedSlots:t._u([{key:"col:label",fn:function(e){var a=e.label,s=e.id;return[s?t._t("label:"+s,[t._v("\n            "+t._s(a)+"\n        ")]):[t._v("\n            "+t._s(a)+"\n        ")]]}},{key:"col:value",fn:function(e){var s=e.value,n=e.bytes;return[["string","number"].includes(typeof s)?[a("span",{staticClass:"txt:bold"},[n?[t._v("\n                    "+t._s(t._f("humanReadableSize")(Number(s)))+"\n                ")]:[t._v("\n                    "+t._s(s)+"\n                ")]],2)]:"boolean"==typeof s?[a("ui-badge",{attrs:{theme:s?"safe":"danger"}},[a("translate",s?[t._v("Enabled")]:[t._v("Disabled")])],1)]:Array.isArray(s)?[a("span",{staticClass:"txt:bold"},[t._v(t._s(s.join(", ")))])]:[a("ui-progress-label",{attrs:{value:s.usage,limit:s.limit}},[a("template",{slot:"value"},[n?[t._v("\n                        "+t._s(t._f("humanReadableSize")(s.usage))+"\n                    ")]:[t._v("\n                        "+t._s(s.usage)+"\n                    ")]],2),t._v(" "),s.limit!==1/0?a("template",{slot:"limit"},[n?[t._v("\n                        "+t._s(t._f("humanReadableSize")(s.limit))+"\n                    ")]:[t._v("\n                        "+t._s(s.limit)+"\n                    ")]],2):t._e()],2)]]}}])},"ui-table",{columns:t.columns,rows:t.rows},!1))},n=[];a.d(e,"a",function(){return s}),a.d(e,"b",function(){return n})},2106:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ui-api-table",t._b({on:{"action:awstats":function(e){t.$dialog("MAKE_AWSTATS_PUBLIC").open()}},scopedSlots:t._u([{key:"col:domain",fn:function(e){var s=e.domain,n=e.suspended;return[t.showLinks?a("ui-link",{attrs:{name:"user/stats/domain-statistics",params:{domain:s}}},[t._v("\n                "+t._s(t._f("p6e-unicode")(s))+"\n            ")]):a("span",[t._v(t._s(t._f("p6e-unicode")(s)))]),t._v(" "),n?a("ui-badge",{attrs:{theme:"danger"}},[a("translate",[t._v("Suspended")])],1):t._e()]}},{key:"col:bandwidth",fn:function(e){var s=e.bandwidth;return[t._v("\n            "+t._s(t._f("humanReadableSize")(s.usage))+"\n            /\n            "),"shared"===s.limit?a("translate",[t._v("\n                Shared\n            ")]):s.limit===1/0?a("translate",[t._v("\n                Shared\n            ")]):a("translate",[t._v("\n                "+t._s(t._f("humanReadableSize")(s.limit))+"\n            ")])]}},{key:"row:actions",fn:function(e){var s=e.domain;return a("ui-actions",{attrs:{position:"left"}},[a("ui-link",{attrs:{name:"user/stats/log",params:{domain:s,type:"usage"}}},[a("translate",[t._v("View Usage Log")])],1),t._v(" "),a("ui-link",{attrs:{name:"user/stats/log",params:{domain:s,type:"error"}}},[a("translate",[t._v("View Error Log")])],1)],1)}}]),model:{value:t.select,callback:function(e){t.select=e},expression:"select"}},"ui-api-table",{endpoint:"GET_USER_STATS",property:"domains",rowID:"domain",columns:{domain:{label:t.$gettext("Domain"),width:"30%"},bandwidth:t.$gettext("Bandwidth"),quota:{label:t.$gettext("Disk Usage"),filter:"humanReadableSize"},log_usage:{label:t.$gettext("Log Usage"),filter:"humanReadableSize"},nsubdomains:t.$gettext("Subdomains")},actions:{awstats:t.$gettext("Make statistics publicly viewable")},verticalLayout:t.$_Client.isPhone},!1)),t._v(" "),a("ui-dialog",{attrs:{id:"MAKE_AWSTATS_PUBLIC"}},[a("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Make statistics publicly viewable")]),t._v(" "),a("translate",{attrs:{slot:"contentTitle","translate-n":t.select.length,"translate-plural":"Set selected domains to be publicly viewable"},slot:"contentTitle"},[t._v("\n            Set selected domain to be publicly viewable.\n        ")]),t._v(" "),a("ui-form-element",{attrs:{slot:"content"},slot:"content"},[a("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Directory:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.awstatsDir,expression:"awstatsDir"}],attrs:{slot:"content",type:"text"},domProps:{value:t.awstatsDir},on:{input:function(e){e.target.composing||(t.awstatsDir=e.target.value)}},slot:"content"})],1),t._v(" "),a("ui-button",{attrs:{slot:"buttons",theme:"primary"},on:{click:t.makePublic},slot:"buttons"},[a("translate",[t._v("Set")])],1)],1)],1)},n=[];a.d(e,"a",function(){return s}),a.d(e,"b",function(){return n})},2199:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("app-page",[a("translate",{attrs:{slot:"page:title","translate-params":{username:t.$state.app.user.name}},slot:"page:title"},[t._v('\n        Details for user "%{username}"\n    ')]),t._v(" "),a("template",{slot:"header:buttons"},[a("ui-button",{attrs:{theme:"primary"},on:{click:function(e){t.$dialog("EDIT_ACCOUNT_CONFIG").open()}}},[a("translate",[t._v("Edit Account Configuration")])],1)],1),t._v(" "),a("app-page-section",[a("ui-tabs",{attrs:{selected:t.tab,tabs:[{id:"webalizer",label:this.$gettext("Domain Statistics")},{id:"usage",label:this.$gettext("Usage Statistics")},{id:"account",label:this.$gettext("Account Configuration")}]},on:{"update:selected":function(e){t.tab=e}}},[a("div",{attrs:{slot:"tab:webalizer"},slot:"tab:webalizer"},[a("webalizer-table",{attrs:{showLinks:t.addons}})],1),t._v(" "),a("div",{attrs:{slot:"tab:usage"},slot:"tab:usage"},[a("usage-table",{attrs:{items:[{label:t.$gettext("Bandwidth"),value:t.stats.bandwidth,id:"bandwidth",bytes:!0},{label:t.$gettext("Total Disk Usage"),value:t.stats.quota,id:"quota",bytes:!0},{label:t.$gettext("E-mail Disk Usage"),value:t.stats.email_quota,bytes:!0},{label:t.$gettext("Database Disk Usage"),value:t.stats.db_quota,bytes:!0},{label:t.$gettext("Inodes"),value:t.stats.inode.usage},{label:t.$gettext("# of Domains"),value:t.stats.vdomains},{label:t.$gettext("# of Subdomains"),value:t.stats.nsubdomains},{label:t.$gettext("POP E-mail Accounts"),value:t.stats.nemails},{label:t.$gettext("E-mail Forwarders"),value:t.stats.nemailf},{label:t.$gettext("Mailing Lists"),value:t.stats.nemailml},{label:t.$gettext("AutoResponders"),value:t.stats.nemailr},{label:t.$gettext("Sent E-mails"),value:t.stats.email_deliveries_outgoing},{label:t.$gettext("Received E-mails"),value:t.stats.email_deliveries_incoming},{label:t.$gettext("# of MySQL DBs"),value:t.stats.mysql},{label:t.$gettext("Domain Pointers"),value:t.stats.domainptr},{label:t.$gettext("Ftp Accounts"),value:t.stats.ftp}]}},[a("template",{slot:"label:bandwidth"},[a("translate",[t._v("Bandwidth")]),t._v(" "),a("ui-button-link",{attrs:{theme:"light",size:t.$_Client.isPhone?"small":"normal",name:"user/bandwidth",params:{year:String((new Date).getFullYear()),month:String((new Date).getMonth())}}},[a("translate",[t._v("Details")])],1)],1),t._v(" "),a("template",{slot:"label:quota"},[a("translate",[t._v("Disk Usage")]),t._v(" "),a("ui-button",{attrs:{theme:"light",size:t.$_Client.isPhone?"small":"normal"},on:{click:t.updateDiskUsage}},[a("translate",[t._v("Update")])],1),t._v(" "),a("ui-button-link",{attrs:{theme:"light",name:"user/disk-usage",size:t.$_Client.isPhone?"small":"normal"}},[a("translate",[t._v("Details")])],1)],1)],2)],1),t._v(" "),a("div",{attrs:{slot:"tab:account"},slot:"tab:account"},[a("usage-table",{attrs:{items:[{label:t.$gettext("Name"),value:t.stats.name},{label:t.$gettext("E-mail"),value:t.stats.email},{label:t.$gettext("IP"),value:t.stats.ip},{label:t.$gettext("Nameserver 1"),value:t.stats.ns1},{label:t.$gettext("Nameserver 2"),value:t.stats.ns2},{label:t.$gettext("Shell Access (SSH)"),value:t.stats.ssh},{label:t.$gettext("Secure Socket Layer (SSL)"),value:t.stats.ssl},{label:t.$gettext("CGI-Bin"),value:t.stats.cgi},{label:t.$gettext("PHP"),value:t.stats.php},{label:t.$gettext("SpamAssassin"),value:t.stats.spam},{label:t.$gettext("Catch-All E-mail"),value:t.stats.catchall},{label:t.$gettext("Anonymous FTP"),value:t.stats.aftp},{label:t.$gettext("Cron Jobs"),value:t.stats.cron},{label:t.$gettext("System Info"),value:t.stats.sysinfo},{label:t.$gettext("Login Keys"),value:t.stats.login_keys},{label:t.$gettext("DNS Control"),value:t.stats.dnscontrol},{label:t.$gettext("Suspend at Limit"),value:t.stats.suspend_at_limit}]}})],1)])],1),t._v(" "),a("template",{slot:"bottom:links"},[a("ui-link",{attrs:{bullet:"",name:"user/history"}},[a("translate",[t._v("User History")])],1),t._v(" "),a("ui-link",{attrs:{bullet:"",name:"user/filemanager",query:{path:"/domains/"+t.$domain+"/logs"}}},[a("translate",[t._v("Backed up Web Logs")])],1),t._v(" "),a("ui-link",{attrs:{bullet:""},on:{click:t.verifyLicense}},[a("translate",[t._v("Verify License")])],1)],1),t._v(" "),a("ui-dialog",{attrs:{id:"EDIT_ACCOUNT_CONFIG"}},[a("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Edit Account Configuration")]),t._v(" "),a("template",{slot:"content"},[a("ui-form-element",{attrs:{group:"accountConfiguration",validators:{required:!0},vertical:""}},[a("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Name")]),t._v(" "),a("input-text",{attrs:{slot:"content",type:"text"},slot:"content",model:{value:t.account.name,callback:function(e){t.$set(t.account,"name",e)},expression:"account.name"}})],1),t._v(" "),a("ui-form-element",{attrs:{group:"accountConfiguration",validators:{required:!0,email:!0},vertical:""}},[a("translate",{attrs:{slot:"title"},slot:"title"},[t._v("E-mail")]),t._v(" "),a("input-text",{attrs:{slot:"content"},slot:"content",model:{value:t.account.email,callback:function(e){t.$set(t.account,"email",e)},expression:"account.email"}}),t._v(" "),a("translate",{attrs:{slot:"error:email"},slot:"error:email"},[t._v("Should be valid email")])],1),t._v(" "),t.skinOptions?a("ui-form-element",{attrs:{vertical:""}},[a("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Skin")]),t._v(" "),a("input-usual-select",{attrs:{slot:"content",options:t.skinOptions},slot:"content",model:{value:t.account.skin,callback:function(e){t.$set(t.account,"skin",e)},expression:"account.skin"}})],1):t._e(),t._v(" "),a("ui-form-element",{attrs:{vertical:""}},[a("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Awstats")]),t._v(" "),a("input-usual-select",{attrs:{slot:"content",options:{0:t.$gettext("Off"),1:t.$gettext("On")}},slot:"content",model:{value:t.account.awstats,callback:function(e){t.$set(t.account,"awstats",e)},expression:"account.awstats"}})],1)],1),t._v(" "),a("ui-button",{attrs:{slot:"buttons",theme:"safe",validateGroup:"accountConfiguration"},on:{click:t.saveAccountConfig},slot:"buttons"},[a("translate",[t._v("Save")])],1)],2)],2)},n=[];a.d(e,"a",function(){return s}),a.d(e,"b",function(){return n})},2310:function(t,e){},2311:function(t,e,a){"use strict";a.r(e);var s=a(2105),n=a(1413);for(var l in n)"default"!==l&&function(t){a.d(e,t,function(){return n[t]})}(l);var i=a(0),o=Object(i.a)(n.default,s.a,s.b,!1,null,null,null);e.default=o.exports},2312:function(t,e,a){"use strict";a.r(e);var s=a(2106),n=a(1415);for(var l in n)"default"!==l&&function(t){a.d(e,t,function(){return n[t]})}(l);var i=a(0),o=Object(i.a)(n.default,s.a,s.b,!1,null,null,null);e.default=o.exports}}]);