(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{1263:function(t,n,e){"use strict";e.r(n);var a=e(2227),i=e(1755);for(var s in i)"default"!==s&&function(t){e.d(n,t,function(){return i[t]})}(s);var o=e(0),r=e(2538),u=e.n(r),l=Object(o.a)(i.default,a.a,a.b,!1,null,null,null);"function"==typeof u.a&&u()(l),n.default=l.exports},1332:function(t,n,e){var a=e(1364);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,e(4).default)("2f3c8031",a,!0,{})},1333:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=c(e(11)),i=c(e(10)),s=c(e(9)),o=c(e(1)),r=c(e(3)),u=e(6),l=e(17);function c(t){return t&&t.__esModule?t:{default:t}}n.default={props:{package:{type:String,required:!1,default:"newpackage"},initialData:{type:Object,required:!1}},data:function(){return{features:{},limits:{},skin:"",language:"",homeOverride:{value:"",options:{}}}},computed:(0,r.default)({},(0,l.mapState)("api",{isDone:function(t){return t.GET_USER_PACKAGE.isDone},skinOptions:function(t){return this.initialData?this.initialData.skin.options:t.GET_USER_PACKAGE.response.skin.options},languageOptions:function(t){return this.initialData?{}:t.GET_USER_PACKAGE.response.language.options}}),{showLanguage:function(){return!this.initialData},processedData:function(){return(0,r.default)({language:this.language,skin:this.skin,create_user_home_override:this.canOverrideHome?this.homeOverride.value:null},u._.reduce(this.limits,function(t,n,e){var a;return(0,r.default)({},t,(a={},(0,o.default)(a,e,["bandwidth","quota"].includes(e)?String(n.value/Math.pow(2,20)):n.value),(0,o.default)(a,"u"+e,!n.value||n.unlimited||null),a))},{}),u._.mapValues(this.features,function(t){return t?"ON":"OFF"}))},canOverrideHome:function(){return this.homeOverride&&!!(0,s.default)(this.homeOverride.options).length}}),watch:{processedData:function(t){this.$emit("update",t)}},created:function(){this.limitLabels={bandwidth:this.$gettext("Bandwidth (MB)"),quota:this.$gettext("Disk Space (MB)"),inode:this.$state.app.tokens.HAVE_INODE?this.$gettext("Inode"):void 0,vdomains:this.$gettext("Domains"),nsubdomains:this.$gettext("Sub-Domains"),nemails:this.$gettext("E-mail Accounts"),nemailf:this.$gettext("E-mail Forwarders"),nemailml:this.$gettext("Mailing Lists"),nemailr:this.$gettext("AutoResponders"),mysql:this.$gettext("MySQL Databases"),domainptr:this.$gettext("Domain Pointers"),ftp:this.$gettext("FTP Accounts")},this.featureLabels={aftp:this.$gettext("Anonymous FTP Accounts"),cgi:this.$gettext("CGI Access"),php:this.$gettext("PHP Access"),spam:this.$gettext("SpamAssassin"),catchall:this.$gettext("Catch-All E-mail"),ssl:this.$gettext("SSL Access"),ssh:this.$gettext("SSH Access"),cron:this.$gettext("Cron Jobs"),sysinfo:this.$gettext("System Info"),login_keys:this.$gettext("Login Keys"),dnscontrol:this.$gettext("DNS Control"),suspend_at_limit:this.$gettext("Suspend At Limit")},this.loadPackage()},methods:{checkEmptyness:function(t){t.value||(t.unlimited=!0)},loadPackage:function(){var t=this;return(0,i.default)(a.default.mark(function n(){var e;return a.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=t.initialData,n.t0){n.next=5;break}return n.next=4,t.$request("GET_USER_PACKAGE",t.$get("package"));case 4:n.t0=n.sent;case 5:e=n.t0,t.limits=u._.cloneDeep(e.limits),t.features=u._.cloneDeep(e.features),t.skin=e.skin.value,t.showLanguage&&(t.language=e.language.value),t.homeOverride=u._.cloneDeep(e.homeOverride),null===t.package&&(t.limits.bandwidth.value*=Math.pow(2,20),t.limits.quota.value*=Math.pow(2,20));case 12:case"end":return n.stop()}},n,t)}))()}}}},1334:function(t,n,e){"use strict";e.r(n);var a=e(1333),i=e.n(a);for(var s in a)"default"!==s&&function(t){e.d(n,t,function(){return a[t]})}(s);n.default=i.a},1353:function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.isDone||t.initialData?e("div",{staticClass:"user-package"},[t._l(t.limitLabels,function(n,a){return n&&t.limits[a]?e("ui-form-element",{key:a},[e("translate",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(n))]),t._v(" "),e(["bandwidth","quota"].includes(a)?"input-size":"input-text",{directives:[{name:"flex-item",rawName:"v-flex-item",value:{grow:!0},expression:"{ grow: true }"}],tag:"component",attrs:{slot:"content",disabled:t.limits[a].unlimited,number:""},on:{blur:function(n){t.checkEmptyness(t.limits[a])}},slot:"content",model:{value:t.limits[a].value,callback:function(n){t.$set(t.limits[a],"value",n)},expression:"limits[key].value"}},[e("ui-button",{attrs:{slot:"additions:right",tabindex:"-1"},on:{click:function(n){t.limits[a].unlimited=!t.limits[a].unlimited}},slot:"additions:right"},[e("input-checkbox",{attrs:{label:t.$gettext("Unlimited")},model:{value:t.limits[a].unlimited,callback:function(n){t.$set(t.limits[a],"unlimited",n)},expression:"limits[key].unlimited"}})],1)],1)],1):t._e()}),t._v(" "),t._l(t.featureLabels,function(n,a){return n&&void 0!==t.features[a]?e("ui-form-element",{key:a,class:{dimmed:!t.features[a]}},[t.$_Client.isPhone?t._e():e("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n            "+t._s(n)+"\n        ")]),t._v(" "),e("div",{attrs:{slot:"content"},slot:"content"},[e("input-checkbox",{model:{value:t.features[a],callback:function(n){t.$set(t.features,a,n)},expression:"features[key]"}},[t.$_Client.isPhone?[t._v("\n                    "+t._s(n)+"\n                ")]:t._e()],2)],1)],1):t._e()}),t._v(" "),e("ui-form-element",[e("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Skin")]),t._v(" "),e("div",{directives:[{name:"flex",rawName:"v-flex"}],attrs:{slot:"content"},slot:"content"},[e("input-usual-select",{attrs:{options:t.skinOptions},model:{value:t.skin,callback:function(n){t.skin=n},expression:"skin"}})],1)],1),t._v(" "),t.showLanguage?e("ui-form-element",[e("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Language")]),t._v(" "),e("div",{directives:[{name:"flex",rawName:"v-flex"}],attrs:{slot:"content"},slot:"content"},[e("input-usual-select",{attrs:{options:t.languageOptions},model:{value:t.language,callback:function(n){t.language=n},expression:"language"}})],1)],1):t._e(),t._v(" "),t.canOverrideHome?e("ui-form-element",[e("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Home Directory")]),t._v(" "),e("div",{attrs:{slot:"content"},slot:"content"},[e("input-usual-select",{attrs:{options:t.homeOverride.options},model:{value:t.homeOverride.value,callback:function(n){t.$set(t.homeOverride,"value",n)},expression:"homeOverride.value"}})],1)],1):t._e()],2):t._e()},i=[];e.d(n,"a",function(){return a}),e.d(n,"b",function(){return i})},1364:function(t,n,e){(t.exports=e(5)(!0)).push([t.i,".user-package input[type=text]{width:1px}","",{version:3,sources:["/usr/local/directadmin/data/skins/evolution/src/js/components/local/user-package.vue"],names:[],mappings:"AAmNA,+BAEQ,SAAU,CACb",file:"user-package.vue?vue&type=style&index=0&lang=scss",sourcesContent:['\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.user-package {\n    input[type="text"] {\n        width: 1px;\n    }\n}\n\n'],sourceRoot:""}])},1365:function(t,n,e){"use strict";var a=e(1332);e.n(a).a},1366:function(t,n,e){"use strict";e.r(n);var a=e(1353),i=e(1334);for(var s in i)"default"!==s&&function(t){e.d(n,t,function(){return i[t]})}(s);e(1365);var o=e(0),r=Object(o.a)(i.default,a.a,a.b,!1,null,null,null);n.default=r.exports},1754:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=l(e(11)),i=l(e(10)),s=l(e(3)),o=e(17),r=e(7),u=l(e(1366));function l(t){return t&&t.__esModule?t:{default:t}}n.default=(0,s.default)({},(0,r.preload)("GET_USER_PACKAGES"),{components:{UserPackage:u.default},computed:(0,o.mapState)("api",{packages:function(t){return t.GET_USER_PACKAGES.response.rows.map(function(t){return t.package})}}),data:function(){return{packageData:{},packageName:"newpackage"}},methods:{updatePackage:function(){var t=this;return(0,i.default)(a.default.mark(function n(){return a.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$actionRequest("UPDATE_USER_PACKAGE",(0,s.default)({packagename:t.packageName},t.packageData));case 2:n.sent&&t.$router.push({name:"reseller/user-packages"});case 4:case"end":return n.stop()}},n,t)}))()},validateName:function(t){return!t||!this.packages.includes(t)}}})},1755:function(t,n,e){"use strict";e.r(n);var a=e(1754),i=e.n(a);for(var s in a)"default"!==s&&function(t){e.d(n,t,function(){return a[t]})}(s);n.default=i.a},2227:function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("app-page",[e("app-page-section",[e("user-package",{attrs:{package:null},on:{update:function(n){t.packageData=n}}}),t._v(" "),e("ui-form-element",{attrs:{group:"userPackage",validators:{required:!0,validateName:t.validateName,regex:/^[a-zA-Z0-9\-\_]+$/,maxLength:20}}},[e("translate",{attrs:{slot:"title"},slot:"title"},[t._v("Package Name")]),t._v(" "),e("input-text",{attrs:{slot:"content"},slot:"content",model:{value:t.packageName,callback:function(n){t.packageName=n},expression:"packageName"}}),t._v(" "),e("translate",{attrs:{slot:"error:regex"},slot:"error:regex"},[t._v("\n                Package name should not contain special characters\n            ")]),t._v(" "),e("translate",{attrs:{slot:"error:validateName"},slot:"error:validateName"},[t._v("\n                Package already exists\n            ")])],1)],1),t._v(" "),e("ui-button",{attrs:{slot:"footer:buttons",validateGroup:"userPackage",theme:"safe"},on:{click:t.updatePackage},slot:"footer:buttons"},[e("translate",[t._v("Save")])],1)],1)},i=[];e.d(n,"a",function(){return a}),e.d(n,"b",function(){return i})},2538:function(t,n){}}]);