(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{1240:function(e,t,n){"use strict";n.r(t);var a=n(2193),o=n(1621);for(var i in o)"default"!==i&&function(e){n.d(t,e,function(){return o[e]})}(i);var r=n(0),s=n(2447),l=n.n(s),u=Object(r.a)(o.default,a.a,a.b,!1,null,null,null);"function"==typeof l.a&&l()(u),t.default=u.exports},1618:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(n(11)),o=l(n(10)),i=l(n(1)),r=l(n(3)),s=n(7);function l(e){return e&&e.__esModule?e:{default:e}}t.default={computed:(0,s.mapTokens)({domains:function(e){var t=this,n=e.DOMAIN_LIST;return n.reduce(function(e,n){return(0,r.default)({},e,(0,i.default)({},n,t.$p6e.toU(n)))},{})}}),data:function(){return{newDomain:"",oldDomain:""}},methods:{renameDomain:function(){var e=this;return(0,o.default)(a.default.mark(function t(){var n;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(n=e.$p6e.toA(e.newDomain))!==e.newDomain&&e.$notifications.info({title:e.$gettext("Domain name punycoded"),content:e.$gettext("Domain name has been automatically converted to punycode format. Punycode is used to encode internationalized domain names (IDN) by converting Unicode characters to ASCII.")}),t.next=4,e.$actionRequest("RENAME_DOMAIN",{new_domain:n,old_domain:e.oldDomain});case 4:e.$request("GET_TOKENS"),e.$emit("rename"),e.$reset();case 7:case"end":return t.stop()}},t,e)}))()}}}},1619:function(e,t,n){"use strict";n.r(t);var a=n(1618),o=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);t.default=o.a},1620:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(n(11)),o=l(n(10)),i=l(n(3)),r=n(7),s=l(n(2448));function l(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)({components:{RenameDomainDialog:s.default}},(0,r.preload)("GET_ADDITIONAL_DOMAINS"),{data:function(){return{checkedRows:[],deleteData:!0}},computed:(0,i.default)({},(0,r.mapResponse)({GET_ADDITIONAL_DOMAINS:"rows"}),{checkedDomains:function(){return this.checkedRows.map(function(e){return e.domain})}}),methods:{loadDomains:function(){this.$request("GET_ADDITIONAL_DOMAINS"),this.$reset()},setCheckedAsDefault:function(){var e=this;return(0,o.default)(a.default.mark(function t(){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$actionRequest("SET_DOMAIN_AS_DEFAULT",{select:e.checkedDomains},{reset:!0});case 2:t.sent&&e.loadDomains();case 4:case"end":return t.stop()}},t,e)}))()},changeDomainStatus:function(){var e=this;return(0,o.default)(a.default.mark(function t(){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$actionRequest("CHANGE_DOMAIN_STATUS",{select:e.checkedDomains,reason:"Other"},{reset:!0});case 2:t.sent&&e.loadDomains();case 4:case"end":return t.stop()}},t,e)}))()},deleteDomains:function(){var e=this;return(0,o.default)(a.default.mark(function t(){var n;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.rows.length===e.checkedRows.length,t.next=3,e.$actionRequest("DELETE_DOMAIN",{select:e.checkedDomains,delete_data:e.deleteData},{reset:!0});case 3:t.sent&&(n&&(e.$notifications.info({title:e.$gettext("No default domain"),content:e.$gettext("You deleted all of your domains. You should create one for full functionality.")}),e.$request("GET_TOKENS"),e.$router.push({name:"user/domains/add"})),e.loadDomains());case 5:case"end":return t.stop()}},t,e)}))()}}})},1621:function(e,t,n){"use strict";n.r(t);var a=n(1620),o=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);t.default=o.a},2118:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ui-dialog",{attrs:{id:"RENAME_DOMAIN_DIALOG"}},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("Rename Domain")]),e._v(" "),n("template",{slot:"content"},[n("ui-form-element",{attrs:{vertical:"",group:"renameDomain",validators:{required:!0}}},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Old Domain\n            ")]),e._v(" "),n("translate",{attrs:{slot:"tooltip"},slot:"tooltip"},[e._v("\n                Select the domain to change and enter it's new value\n            ")]),e._v(" "),n("input-usual-select",{attrs:{slot:"content",options:e.domains},slot:"content",model:{value:e.oldDomain,callback:function(t){e.oldDomain=t},expression:"oldDomain"}})],1),e._v(" "),n("ui-form-element",{attrs:{validators:{required:!0,domain:!0},group:"renameDomain",vertical:""}},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("New Domain")]),e._v(" "),n("input-text",{attrs:{slot:"content"},slot:"content",model:{value:e.newDomain,callback:function(t){e.newDomain=t},expression:"newDomain"}}),e._v(" "),n("translate",{attrs:{slot:"error:domain"},slot:"error:domain"},[e._v("Should be valid domain name")])],1)],1),e._v(" "),n("ui-button",{attrs:{slot:"buttons",validateGroup:"renameDomain",theme:"primary"},on:{click:e.renameDomain},slot:"buttons"},[n("translate",[e._v("Rename")])],1)],2)},o=[];n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o})},2193:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("app-page",[n("template",{slot:"header:buttons"},[n("ui-button",{attrs:{theme:"primary"},on:{click:function(t){e.$dialog("RENAME_DOMAIN_DIALOG").open()}}},[n("translate",[e._v("Rename domain")])],1),e._v(" "),n("ui-tokens-conditional-button",{attrs:{theme:"safe",name:"user/domains/add",token:"NDOMAINSMAX",usage:e.rows.length,link:""}},[n("translate",[e._v("Add New")]),e._v(" "),n("translate",{attrs:{slot:"limitText"},slot:"limitText"},[e._v("Domains Limit Reached")])],1)],1),e._v(" "),n("app-page-section",[n("ui-table",e._b({attrs:{rows:e.rows,columns:[{id:"domain",label:e.$gettext("Domain"),grow:!0,editable:!1},{id:"bandwidth",label:e.$gettext("Bandwidth")},{id:"quota",label:e.$gettext("Disk Usage")},{id:"subdomain",label:e.$gettext("Subdomains")}],checkedRows:e.checkedRows,rowsCount:e.rows.length,isSortable:"",disablePagination:"",verticalLayout:e.$_Client.isPhone},on:{"update:checkedRows":function(t){e.checkedRows=t}},scopedSlots:e._u([{key:"col:domain",fn:function(t){var a=t.domain,o=t.defaultdomain,i=t.active;return n("div",{staticClass:"wrap:nowrap overfl:hid toverfl:ellipsis"},[n("ui-link",{class:{"txt:bold":o},attrs:{name:"user/domains/edit",params:{domain:a}}},[e._v("\n                    "+e._s(e.$p6e.toU(a))+"\n                ")]),e._v(" "),i?e._e():n("ui-tooltip",{attrs:{theme:"danger",icon:"warning"}},[n("translate",[e._v("Suspended")])],1)],1)}},{key:"col:bandwidth",fn:function(t){var a=t.bandwidth,o=t.bandwidth_limit;return[e._v("\n                "+e._s(e._f("humanReadableSize")(a))+" /\n                "),o===1/0?n("translate",[e._v("\n                    Unlimited\n                ")]):[e._v("\n                    "+e._s(e._f("humanReadableSize")(o))+"\n                ")]]}},{key:"col:quota",fn:function(t){var a=t.quota,o=t.quota_limit;return[e._v("\n                "+e._s(e._f("humanReadableSize")(a))+" /\n                "),o===1/0?n("translate",[e._v("\n                    Unlimited\n                ")]):[e._v("\n                    "+e._s(e._f("humanReadableSize")(o))+"\n                ")]]}},{key:"col:active",fn:function(t){return[t.item.active?n("translate",[e._v("Active")]):n("translate",[e._v("Suspended")])]}}])},"ui-table",{rows:e.rows},!1),[n("template",{slot:"table:actions"},[e.checkedRows.length<=1?n("ui-table-action",{on:{click:e.setCheckedAsDefault}},[n("translate",[e._v("Set as default")])],1):e._e(),e._v(" "),n("ui-table-action",{on:{click:e.changeDomainStatus}},[n("translate",[e._v("Suspend / Unsuspend")])],1),e._v(" "),n("ui-table-action",{on:{click:function(t){e.$dialog("DELETE_ITEMS_DIALOG").open()}}},[n("translate",[e._v("Delete")])],1)],1)],2),e._v(" "),n("ui-dialog-delete-items",{attrs:{subject:e.$ngettext("domain","domains",e.checkedDomains.length)},on:{"click:confirm":e.deleteDomains}},[n("input-checkbox",{directives:[{name:"margin",rawName:"v-margin",value:[1,0],expression:"[1, 0]"}],model:{value:e.deleteData,callback:function(t){e.deleteData=t},expression:"deleteData"}},[n("translate",[e._v("Delete web data")])],1)],1)],1),e._v(" "),n("rename-domain-dialog",{on:{rename:e.loadDomains}})],2)},o=[];n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o})},2447:function(e,t){},2448:function(e,t,n){"use strict";n.r(t);var a=n(2118),o=n(1619);for(var i in o)"default"!==i&&function(e){n.d(t,e,function(){return o[e]})}(i);var r=n(0),s=Object(r.a)(o.default,a.a,a.b,!1,null,null,null);t.default=s.exports}}]);